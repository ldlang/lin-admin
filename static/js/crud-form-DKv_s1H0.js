import{a as g,h as O,i as h,d as D,c as I,F as L,G as N}from"./element-plus-BLeghT3y.js";import{l as R}from"./lodash-es-Bwfjn3gr.js";import{d as T,r as i,P as c,o as V,W as _,V as t,S as o,Z as b,a3 as j,u as a}from"./@vue-8NkTQehK.js";import"./async-validator-DKvM95Vc.js";import"./@vueuse-Bw2xgJDF.js";import"./@element-plus-Ue8JEva9.js";import"./dayjs-Bkv9doWi.js";import"./crypto-js-aX0Vy_I7.js";import"./@ctrl-r5W6hzzQ.js";import"./@sxzz-D9SI2xQl.js";import"./normalize-wheel-es-B6fDCfyv.js";const X=T({__name:"crud-form",emits:["submitOk"],setup(z,{expose:v,emit:k}){const w=k,n=i(!1),m=i(!1),p=i(),l=c({id:0,name:"",age:0,gender:"",email:"",phone:"",address:""}),C=c({name:[{required:!0,message:"请输入姓名",trigger:"blur"}],age:[{required:!0,message:"请输入年龄",trigger:"blur"}],gender:[{required:!0,message:"请输入性别",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"}],address:[{required:!0,message:"请输入地址",trigger:"blur"}]});function E(s){n.value=!0,R(s)||Object.assign(l,s)}function U(s){s()}const q=()=>{n.value=!1},x=async()=>{var s;await((s=p.value)==null?void 0:s.validate(e=>{if(e)m.value=!0,setTimeout(()=>{m.value=!1,n.value=!1,g.success("提交成功！"),w("submitOk")},1e3);else return g.error("验证不通过！"),!1}))};return v({open:E}),(s,e)=>{const u=O,d=h,y=D,f=I,B=L,F=N;return V(),_(B,{modelValue:n.value,"onUpdate:modelValue":e[6]||(e[6]=r=>n.value=r),title:"编辑",size:"30%","append-to-body":"","close-on-click-modal":!1,"before-close":U},{footer:t(()=>[o(f,{onClick:q},{default:t(()=>[b("取 消")]),_:1}),o(f,{type:"primary",loading:m.value,onClick:x},{default:t(()=>[b("提 交")]),_:1},8,["loading"])]),default:t(()=>[j((V(),_(y,{model:a(l),ref_key:"formRef",ref:p,"label-width":"auto",rules:a(C)},{default:t(()=>[o(d,{label:"姓名",prop:"name"},{default:t(()=>[o(u,{modelValue:a(l).name,"onUpdate:modelValue":e[0]||(e[0]=r=>a(l).name=r),placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1}),o(d,{label:"年龄",prop:"age"},{default:t(()=>[o(u,{modelValue:a(l).age,"onUpdate:modelValue":e[1]||(e[1]=r=>a(l).age=r),placeholder:"请输入年龄"},null,8,["modelValue"])]),_:1}),o(d,{label:"性别",prop:"gender"},{default:t(()=>[o(u,{modelValue:a(l).gender,"onUpdate:modelValue":e[2]||(e[2]=r=>a(l).gender=r),placeholder:"请输入性别"},null,8,["modelValue"])]),_:1}),o(d,{label:"邮箱",prop:"email"},{default:t(()=>[o(u,{modelValue:a(l).email,"onUpdate:modelValue":e[3]||(e[3]=r=>a(l).email=r),placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1}),o(d,{label:"手机号",prop:"phone"},{default:t(()=>[o(u,{modelValue:a(l).phone,"onUpdate:modelValue":e[4]||(e[4]=r=>a(l).phone=r),placeholder:"请输入手机号"},null,8,["modelValue"])]),_:1}),o(d,{label:"地址",prop:"address"},{default:t(()=>[o(u,{modelValue:a(l).address,"onUpdate:modelValue":e[5]||(e[5]=r=>a(l).address=r),placeholder:"请输入地址"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[F,m.value]])]),_:1},8,["modelValue"])}}});export{X as default};
