import{f as w,b as T}from"./element-plus-Cj9DeCuo.js";import{d as R,az as V,r as i,w as q,o as f,c as h,R as E,U as B,S as N,a9 as H,u as c,V as M,F as O,a as v,_ as S}from"./@vue-DkoY_x4p.js";import{a as z}from"./index-BVOvWpRI.js";import{j as A}from"./@vueuse-DDWqxRth.js";import{s as F}from"./pinia-DyiTWu1K.js";import{u as I}from"./vue-router-DiZ_DTqd.js";import{l as L}from"./lodash-es-Bwfjn3gr.js";import{_ as U}from"./plugin-vueexport-helper-DlAUqK2U.js";import"./async-validator-DKvM95Vc.js";import"./@element-plus-9WxlJayY.js";import"./dayjs-Bkv9doWi.js";import"./crypto-js-aX0Vy_I7.js";import"./@ctrl-r5W6hzzQ.js";import"./@sxzz-D9SI2xQl.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./pinia-plugin-persistedstate-n2tMOXAx.js";import"./nprogress-BxCQX5YL.js";import"./axios-Cm0UX6qg.js";/* empty css                      */import"./vite-plugin-mock-CJwX79_S.js";import"./mockjs-lvB3RZtT.js";import"./path-to-regexp-mOxPpBbg.js";import"./vue-demi-Dq6ymT-8.js";const j={class:"top-tag w-full bg-white",style:{"box-shadow":"0 1px 1px #eee"}},o="/home",D=R({__name:"tag",setup(X){V(e=>({d97bb796:c(m).y,d97bb798:c(m).x}));const{tagList:t,activeTag:b}=F(z()),u=I(),l=i(""),p=i(""),m=i({x:"0",y:"0"}),r=i(!1);q(b,e=>{l.value=e.fullPath},{immediate:!0});function x(e){const a=t.value.find(s=>s.fullPath===e.paneName);u.push({path:a.fullPath,query:a==null?void 0:a.query})}function _(e){p.value=e.target.innerText,e.preventDefault(),e.stopPropagation(),m.value={x:e.clientX+"px",y:e.clientY+"px"},r.value=!0}const d=i(null);A(d,()=>{r.value=!1});function g(e){if(l.value===e){const a=t.value.findIndex(s=>s.fullPath===e);if(a===-1)return;l.value=t.value[a-1].fullPath,u.push({path:t.value[a-1].fullPath,query:t.value[a-1].query})}t.value=t.value.filter(a=>a.fullPath!==e)}function P(){r.value=!1,t.value=t.value.filter(e=>L(p.value)?e.fullPath===l.value||e.fullPath===o:e.title===p.value||e.fullPath===o),t.value.length===2?u.push({path:t.value[1].fullPath,query:t.value[1].query}):u.push(o)}function C(){r.value=!1,t.value=t.value.filter(e=>e.fullPath===o),u.push(o)}return(e,a)=>{const s=w,k=T;return f(),h("div",j,[E(k,{modelValue:c(l),"onUpdate:modelValue":a[0]||(a[0]=n=>O(l)?l.value=n:null),type:"card",onContextmenu:_,onTabClick:x,onTabRemove:g},{default:B(()=>[(f(!0),h(N,null,H(c(t),(n,y)=>(f(),M(s,{key:y,closable:n.fullPath!==o,label:n.title,name:n.fullPath},null,8,["closable","label","name"]))),128))]),_:1},8,["modelValue"]),c(r)?(f(),h("div",{key:0,ref_key:"contextmenuRef",ref:d,class:"contextmenu fixed w-76 bg-white rd-3 z-10 hand flex flex-col shadow-lg"},[v("div",{class:"p-5 b-b-1 text-center b-b-gray-200 b-b-solid hover-bg-eee",onClick:P}," 关闭其他 "),v("div",{class:"p-5 text-center hover-bg-eee",onClick:C},"关闭所有")],512)):S("",!0)])}}}),de=U(D,[["__scopeId","data-v-8b9d9002"]]);export{de as default};
