import{b as w,f as T}from"./element-plus-BLeghT3y.js";import{d as V,t as q,r as i,w as R,o as f,c as h,S as E,V as B,T as N,aa as A,u as c,q as H,a as d,$ as M,aA as O,W as S}from"./@vue-8NkTQehK.js";import{c as I}from"./index-C3WqaERM.js";import{j as L}from"./@vueuse-Bw2xgJDF.js";import{u as j}from"./vue-router-BUjK-xXc.js";import{l as z}from"./lodash-es-Bwfjn3gr.js";import{_ as D}from"./plugin-vueexport-helper-DlAUqK2U.js";import"./async-validator-DKvM95Vc.js";import"./@element-plus-Ue8JEva9.js";import"./dayjs-Bkv9doWi.js";import"./crypto-js-aX0Vy_I7.js";import"./@ctrl-r5W6hzzQ.js";import"./@sxzz-D9SI2xQl.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./pinia-DBGRVLeF.js";import"./vue-demi-Dq6ymT-8.js";import"./pinia-plugin-persistedstate-n2tMOXAx.js";import"./axios-Cm0UX6qg.js";import"./nprogress-BxCQX5YL.js";/* empty css                      */import"./vite-plugin-mock-CJwX79_S.js";import"./mockjs-lvB3RZtT.js";import"./path-to-regexp-mOxPpBbg.js";const F={class:"top-tag w-full bg-white"},o="/home",U=V({__name:"tag",setup(W){O(e=>({"093e1b0e":c(m).y,"093e1b0d":c(m).x}));const{tagList:t,activeTag:_}=q(I()),u=j(),l=i(""),p=i(""),m=i({x:"0",y:"0"}),r=i(!1);R(_,e=>{l.value=e.fullPath},{immediate:!0});function b(e){const a=t.value.find(s=>s.fullPath===e.paneName);u.push({path:a.fullPath,query:a==null?void 0:a.query})}function x(e){p.value=e.target.innerText,e.preventDefault(),e.stopPropagation(),m.value={x:e.clientX+"px",y:e.clientY+"px"},r.value=!0}const v=i(null);L(v,()=>{r.value=!1});function g(e){if(l.value===e){const a=t.value.findIndex(s=>s.fullPath===e);if(a===-1)return;l.value=t.value[a-1].fullPath,u.push({path:t.value[a-1].fullPath,query:t.value[a-1].query})}t.value=t.value.filter(a=>a.fullPath!==e)}function P(){r.value=!1,t.value=t.value.filter(e=>z(p.value)?e.fullPath===l.value||e.fullPath===o:e.title===p.value||e.fullPath===o),t.value.length===2?u.push({path:t.value[1].fullPath,query:t.value[1].query}):u.push(o)}function k(){r.value=!1,t.value=t.value.filter(e=>e.fullPath===o),u.push(o)}return(e,a)=>{const s=T,C=w;return f(),h("div",F,[E(C,{modelValue:c(l),"onUpdate:modelValue":a[0]||(a[0]=n=>H(l)?l.value=n:null),type:"card",onContextmenu:x,onTabClick:b,onTabRemove:g},{default:B(()=>[(f(!0),h(N,null,A(c(t),(n,y)=>(f(),S(s,{key:y,closable:n.fullPath!==o,label:n.title,name:n.fullPath},null,8,["closable","label","name"]))),128))]),_:1},8,["modelValue"]),c(r)?(f(),h("div",{key:0,ref_key:"contextmenuRef",ref:v,class:"contextmenu fixed w-76 bg-white rd-3 z-10 hand flex flex-col shadow-lg"},[d("div",{class:"p-5 b-b-1 text-center b-b-gray-200 b-b-solid hover-bg-eee",onClick:P}," 关闭其他 "),d("div",{class:"p-5 text-center hover-bg-eee",onClick:k},"关闭所有")],512)):M("",!0)])}}}),ve=D(U,[["__scopeId","data-v-ade42203"]]);export{ve as default};
