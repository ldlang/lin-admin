import{f as w,b as R}from"./element-plus-BFYtP1Xu.js";import{d as T,az as V,t as q,r as i,w as E,o as f,c as h,R as B,U as N,S as H,a9 as M,u as c,V as O,F as S,a as d,_ as z}from"./@vue-D3v7N18w.js";import{c as A}from"./index-WBe6RMav.js";import{j as F}from"./@vueuse-ub14C6LV.js";import{u as I}from"./vue-router-CMD7rKwF.js";import{l as L}from"./lodash-es-Bwfjn3gr.js";import{_ as U}from"./plugin-vueexport-helper-DlAUqK2U.js";import"./async-validator-DKvM95Vc.js";import"./@element-plus-_FnQvSGo.js";import"./dayjs-Bkv9doWi.js";import"./crypto-js-aX0Vy_I7.js";import"./@ctrl-r5W6hzzQ.js";import"./@sxzz-D9SI2xQl.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./pinia-NqYY4sCg.js";import"./vue-demi-Dq6ymT-8.js";import"./pinia-plugin-persistedstate-n2tMOXAx.js";import"./nprogress-BxCQX5YL.js";import"./axios-Cm0UX6qg.js";/* empty css                      */import"./vite-plugin-mock-CJwX79_S.js";import"./mockjs-lvB3RZtT.js";import"./path-to-regexp-mOxPpBbg.js";const j={class:"top-tag w-full bg-white",style:{"box-shadow":"0 1px 1px #eee"}},o="/home",D=T({__name:"tag",setup(X){V(e=>({"7f762e34":c(m).y,"7f762e36":c(m).x}));const{tagList:t,activeTag:x}=q(A()),u=I(),l=i(""),p=i(""),m=i({x:"0",y:"0"}),r=i(!1);E(x,e=>{l.value=e.fullPath},{immediate:!0});function _(e){const a=t.value.find(s=>s.fullPath===e.paneName);u.push({path:a.fullPath,query:a==null?void 0:a.query})}function b(e){p.value=e.target.innerText,e.preventDefault(),e.stopPropagation(),m.value={x:e.clientX+"px",y:e.clientY+"px"},r.value=!0}const v=i(null);F(v,()=>{r.value=!1});function g(e){if(l.value===e){const a=t.value.findIndex(s=>s.fullPath===e);if(a===-1)return;l.value=t.value[a-1].fullPath,u.push({path:t.value[a-1].fullPath,query:t.value[a-1].query})}t.value=t.value.filter(a=>a.fullPath!==e)}function P(){r.value=!1,t.value=t.value.filter(e=>L(p.value)?e.fullPath===l.value||e.fullPath===o:e.title===p.value||e.fullPath===o),t.value.length===2?u.push({path:t.value[1].fullPath,query:t.value[1].query}):u.push(o)}function k(){r.value=!1,t.value=t.value.filter(e=>e.fullPath===o),u.push(o)}return(e,a)=>{const s=w,y=R;return f(),h("div",j,[B(y,{modelValue:c(l),"onUpdate:modelValue":a[0]||(a[0]=n=>S(l)?l.value=n:null),type:"card",onContextmenu:b,onTabClick:_,onTabRemove:g},{default:N(()=>[(f(!0),h(H,null,M(c(t),(n,C)=>(f(),O(s,{key:C,closable:n.fullPath!==o,label:n.title,name:n.fullPath},null,8,["closable","label","name"]))),128))]),_:1},8,["modelValue"]),c(r)?(f(),h("div",{key:0,ref_key:"contextmenuRef",ref:v,class:"contextmenu fixed w-76 bg-white rd-3 z-10 hand flex flex-col shadow-lg"},[d("div",{class:"p-5 b-b-1 text-center b-b-gray-200 b-b-solid hover-bg-eee",onClick:P}," 关闭其他 "),d("div",{class:"p-5 text-center hover-bg-eee",onClick:k},"关闭所有")],512)):z("",!0)])}}}),ve=U(D,[["__scopeId","data-v-a4ffebe2"]]);export{ve as default};
