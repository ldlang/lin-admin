function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/header-search-CCNBjBNF.js","assets/index-Djzf4RzS.js","assets/element-plus-DBjmp5RF.js","assets/lodash-Bwfjn3gr.js","assets/crypto-js-DzGpDWq6.js","assets/index-Bm7hIVdI.css","assets/el-form-item-l0sNRNKZ.js","assets/el-form-DeFBUyhQ.css","assets/el-button-BWsECEeL.css","assets/el-input-CxR3fIHd.css","assets/el-message-0AX1x0v0.css","assets/bottom-page-_5jgnhVr.js","assets/bottom-page-DtfUaPpy.css","assets/el-tag-GlP_X63n.css","assets/el-scrollbar-DgVM_IK3.css","assets/el-popper-Dp4T8EOK.css","assets/crud-form-BEconDOg.js","assets/crud-form-6tlglFsG.css","assets/el-loading-D5XuAxUM.css","assets/el-overlay-DBZ27Rv4.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{i as A,_ as g}from"./index-Djzf4RzS.js";/* empty css                   *//* empty css                  *//* empty css               *//* empty css                       *//* empty css                 *//* empty css                   *//* empty css                   */import{d as $,h as r,k as V,Z as H,o as y,K as I,e as t,u as a,ay as O,b as M,w as d,Q as E,aB as N,L as U,J as m,am as F,G,aC as J,S as K,aA as Q}from"./element-plus-DBjmp5RF.js";import{l as Z}from"./lodash-Bwfjn3gr.js";import"./crypto-js-DzGpDWq6.js";function j(f){return A({url:"/crud/getList",method:"get",params:f})}const re=$({__name:"crud",setup(f){const R=m(()=>g(()=>import("./header-search-CCNBjBNF.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),w=m(()=>g(()=>import("./bottom-page-_5jgnhVr.js"),__vite__mapDeps([11,1,2,3,4,5,12,9,13,14,15]))),T=m(()=>g(()=>import("./crud-form-BEconDOg.js"),__vite__mapDeps([16,1,2,3,4,5,6,17,18,19,8,7,9,10]))),_=r(null),b=r(null),h=r(null),k=r("auto"),v=r([]),C=r(0),c=r(!1),l=V({page:1,size:10});H(async()=>{await s(l),setTimeout(()=>{x()},200)});async function s(n){try{c.value=!0,setTimeout(async()=>{const e=await j(n);c.value=!1,v.value=e.data.records,C.value=e.data.total},1e3)}catch(e){c.value=!1,console.error(e)}}function B(n){let e;for(e in n)Z(n[e])&&delete n[e];l.page=1;const o={...l,...n};s(o)}function L(){l.page=1,s(l)}function P(){s(l)}function x(){var u,p;const n=(u=_.value)==null?void 0:u.$el.getBoundingClientRect().top,e=(p=b.value)==null?void 0:p.$el.getBoundingClientRect().height,o=document.documentElement.clientHeight-n-e-20-10;k.value=o}function S(n){F.confirm("确定删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{G.success(`id为${n.id}的数据删除成功删除成功`),s(l)}).catch(()=>{})}function z(n){var e;(e=h.value)==null||e.open(n)}return(n,e)=>{const o=J,u=K,p=Q;return y(),I(U,null,[t(a(R),{onSubmitClick:B,onResetSearchClick:L,tableLoading:a(c)},null,8,["tableLoading"]),O((y(),M(a(N),{data:a(v),class:"w-full rd-5",ref_key:"tableRef",ref:_,height:a(k)},{default:d(()=>[t(o,{fixed:"",type:"selection",width:"30"}),t(o,{prop:"id",label:"ID",width:"80"}),t(o,{prop:"name",label:"姓名",width:"120"}),t(o,{prop:"age",label:"年龄",width:"80"}),t(o,{prop:"gender",label:"性别",width:"80"}),t(o,{prop:"email",label:"邮箱"}),t(o,{prop:"phone",label:"手机号"}),t(o,{prop:"address",label:"地址"}),t(o,{fixed:"right",label:"操作",width:"150"},{default:d(({row:i})=>[t(u,{link:"",type:"primary",size:"small",onClick:D=>z(i)},{default:d(()=>[E("编辑")]),_:2},1032,["onClick"]),t(u,{link:"",type:"danger",size:"small",onClick:D=>S(i)},{default:d(()=>[E(" 删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","height"])),[[p,a(c)]]),t(a(w),{ref_key:"pageRef",ref:b,class:"mt-10 bg-white py-5 rd-5",currentPage:a(l).page,"onUpdate:currentPage":e[0]||(e[0]=i=>a(l).page=i),pageSize:a(l).size,"onUpdate:pageSize":e[1]||(e[1]=i=>a(l).size=i),total:a(C),onPageChange:P},null,8,["currentPage","pageSize","total"]),t(a(T),{ref_key:"crudFormRef",ref:h,onSubmitOk:e[2]||(e[2]=i=>s(a(l)))},null,512)],64)}}});export{re as default};
