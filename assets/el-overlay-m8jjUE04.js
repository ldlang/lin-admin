import{g as b,J as y,cp as h,bh as C,as as i,ai as g,cn as w,aq as k,aT as M,ar as x,a5 as u,U as S,V as m,b as E,e as O,L as p,av as T}from"./index-dFPmeL4W.js";import{t as P}from"./error-Cq9Fpw4b.js";import{g as L}from"./scroll-BSxX7SSp.js";import{P as d}from"./vnode-Cm_8Cbzr.js";const V=(e,t={})=>{b(e)||P("[useLockscreen]","You need to pass a ref param to this function");const s=t.ns||y("popup"),a=h(()=>s.bm("parent","hidden"));if(!C||i(document.body,a.value))return;let l=0,n=!1,o="0";const c=()=>{setTimeout(()=>{x(document==null?void 0:document.body,a.value),n&&document&&(document.body.style.width=o)},200)};g(e,r=>{if(!r){c();return}n=!i(document.body,a.value),n&&(o=document.body.style.width),l=L(s.namespace.value);const f=document.documentElement.clientHeight<document.body.scrollHeight,v=w(document.body,"overflowY");l>0&&(f||v==="scroll")&&n&&(document.body.style.width=`calc(100% - ${l}px)`),k(document.body,a.value)}),M(()=>c())},z=e=>{if(!e)return{onClick:u,onMousedown:u,onMouseup:u};let t=!1,s=!1;return{onClick:o=>{t&&s&&e(o),t=s=!1},onMousedown:o=>{t=o.target===o.currentTarget},onMouseup:o=>{s=o.target===o.currentTarget}}},B=S({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:m([String,Array,Object])},zIndex:{type:m([String,Number])}}),I={click:e=>e instanceof MouseEvent},H="overlay";var N=E({name:"ElOverlay",props:B,emits:I,setup(e,{slots:t,emit:s}){const a=y(H),l=r=>{s("click",r)},{onClick:n,onMousedown:o,onMouseup:c}=z(e.customMaskEvent?void 0:l);return()=>e.mask?O("div",{class:[a.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:n,onMousedown:o,onMouseup:c},[p(t,"default")],d.STYLE|d.CLASS|d.PROPS,["onClick","onMouseup","onMousedown"]):T("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[p(t,"default")])}});const j=N;export{j as E,V as a,z as u};
