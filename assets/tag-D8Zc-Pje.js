import{c as w,a as R}from"./index-Djzf4RzS.js";/* empty css                    */import{d as T,z as V,h as c,j as q,o as f,K as v,e as E,w as N,L as B,M,u as i,l as H,N as m,P as L,ag as O,R as z,b as A,X as I}from"./element-plus-DBjmp5RF.js";import{o as S}from"./index-BrE9uEq_.js";import{l as X}from"./lodash-Bwfjn3gr.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./crypto-js-DzGpDWq6.js";const D={class:"top-tag w-full bg-white"},o="/home",F=T({__name:"tag",setup(K){O(e=>({"093e1b0e":i(p).y,"093e1b0d":i(p).x}));const{tagList:a,activeTag:_}=V(w()),u=R(),t=c(""),h=c(""),p=c({x:"0",y:"0"}),s=c(!1);q(_,e=>{t.value=e.fullPath},{immediate:!0});function b(e){const l=a.value.find(n=>n.fullPath===e.paneName);u.push({path:l.fullPath,query:l==null?void 0:l.query})}function x(e){h.value=e.target.innerText,e.preventDefault(),e.stopPropagation(),p.value={x:e.clientX+"px",y:e.clientY+"px"},s.value=!0}const d=c(null);S(d,()=>{s.value=!1});function g(e){if(t.value===e){const l=a.value.findIndex(n=>n.fullPath===e);if(l===-1)return;t.value=a.value[l-1].fullPath,u.push({path:a.value[l-1].fullPath,query:a.value[l-1].query})}a.value=a.value.filter(l=>l.fullPath!==e)}function P(){s.value=!1,a.value=a.value.filter(e=>X(h.value)?e.fullPath===t.value||e.fullPath===o:e.title===h.value||e.fullPath===o),a.value.length===2?u.push({path:a.value[1].fullPath,query:a.value[1].query}):u.push(o)}function k(){s.value=!1,a.value=a.value.filter(e=>e.fullPath===o),u.push(o)}return(e,l)=>{const n=I,C=z;return f(),v("div",D,[E(C,{modelValue:i(t),"onUpdate:modelValue":l[0]||(l[0]=r=>H(t)?t.value=r:null),type:"card",onContextmenu:x,onTabClick:b,onTabRemove:g},{default:N(()=>[(f(!0),v(B,null,M(i(a),(r,y)=>(f(),A(n,{key:y,closable:r.fullPath!==o,label:r.title,name:r.fullPath},null,8,["closable","label","name"]))),128))]),_:1},8,["modelValue"]),i(s)?(f(),v("div",{key:0,ref_key:"contextmenuRef",ref:d,class:"contextmenu fixed w-76 bg-white rd-3 z-10 hand flex flex-col shadow-lg"},[m("div",{class:"p-5 b-b-1 text-center b-b-gray-200 b-b-solid hover-bg-eee",onClick:P}," 关闭其他 "),m("div",{class:"p-5 text-center hover-bg-eee",onClick:k},"关闭所有")],512)):L("",!0)])}}}),$=j(F,[["__scopeId","data-v-ade42203"]]);export{$ as default};
