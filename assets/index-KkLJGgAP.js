import{C as W,aB as C,D as U,bb as p}from"./index-dFPmeL4W.js";const y=(e,t,E,m)=>{let u={offsetX:0,offsetY:0};const i=d=>{const M=d.clientX,X=d.clientY,{offsetX:c,offsetY:a}=u,n=e.value.getBoundingClientRect(),v=n.left,f=n.top,Y=n.width,w=n.height,b=document.documentElement.clientWidth,x=document.documentElement.clientHeight,D=-v+c,B=-f+a,H=b-v-Y+c,T=x-f-w+a,r=g=>{let o=c+g.clientX-M,s=a+g.clientY-X;m!=null&&m.value||(o=Math.min(Math.max(o,D),H),s=Math.min(Math.max(s,B),T)),u={offsetX:o,offsetY:s},e.value&&(e.value.style.transform=`translate(${p(o)}, ${p(s)})`)},h=()=>{document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",h)};document.addEventListener("mousemove",r),document.addEventListener("mouseup",h)},L=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",i)},l=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",i)};W(()=>{C(()=>{E.value?L():l()})}),U(()=>{l()})};export{y as u};
