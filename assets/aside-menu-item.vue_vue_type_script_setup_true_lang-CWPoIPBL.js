import{b as H,J as P,o as C,k as O,w as T,L as A,am as $e,ao as We,f as je,T as Oe,N as ie,ap as N,aq as ee,ar as de,as as Fe,K as h,U as Me,ad as se,r as S,at as Ve,au as qe,a as ye,ai as te,aj as ge,C as Ce,D as Ne,av as _,a1 as G,H as Ie,aw as Pe,ax as Ge,F as W,ay as Z,az as xe,aA as Te,aB as Ue,V as be,a4 as Je,aC as Ke,aD as Qe,a3 as Se,aE as Ze,aF as Xe,ak as Ye,S as Be,c as z,j as U,M as le,p as et,G as ne,P as tt,Q as _e,h as Ee,q as nt,e as pe,l as me,n as we}from"./index-dFPmeL4W.js";import{t as oe}from"./aria-nkjrUMQ-.js";import{E as Ae}from"./index-B566OGEp.js";import{T as ot}from"./index-r5W6hzzQ.js";import{t as ue}from"./error-Cq9Fpw4b.js";import{f as at}from"./vnode-Cm_8Cbzr.js";import{C as st}from"./index-CVWXIByd.js";const lt=H({name:"ElCollapseTransition"}),ut=H({...lt,setup(e){const o=P("collapse-transition"),n=t=>{t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom},r={beforeEnter(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height&&(t.dataset.elExistsHeight=t.style.height),t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0},enter(t){requestAnimationFrame(()=>{t.dataset.oldOverflow=t.style.overflow,t.dataset.elExistsHeight?t.style.maxHeight=t.dataset.elExistsHeight:t.scrollHeight!==0?t.style.maxHeight=`${t.scrollHeight}px`:t.style.maxHeight=0,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom,t.style.overflow="hidden"})},afterEnter(t){t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow},enterCancelled(t){n(t)},beforeLeave(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.maxHeight=`${t.scrollHeight}px`,t.style.overflow="hidden"},leave(t){t.scrollHeight!==0&&(t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0)},afterLeave(t){n(t)},leaveCancelled(t){n(t)}};return(t,M)=>(C(),O(Oe,$e({name:je(o).b()},We(r)),{default:T(()=>[A(t.$slots,"default")]),_:3},16,["name"]))}});var ae=ie(ut,[["__file","collapse-transition.vue"]]);ae.install=e=>{e.component(ae.name,ae)};const it=ae;let rt=class{constructor(o,n){this.parent=o,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(o){o===this.subMenuItems.length?o=0:o<0&&(o=this.subMenuItems.length-1),this.subMenuItems[o].focus(),this.subIndex=o}addListeners(){const o=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",r=>{let t=!1;switch(r.code){case N.down:{this.gotoSubIndex(this.subIndex+1),t=!0;break}case N.up:{this.gotoSubIndex(this.subIndex-1),t=!0;break}case N.tab:{oe(o,"mouseleave");break}case N.enter:case N.space:{t=!0,r.currentTarget.click();break}}return t&&(r.preventDefault(),r.stopPropagation()),!1})})}},ct=class{constructor(o,n){this.domNode=o,this.submenu=null,this.submenu=null,this.init(n)}init(o){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${o}-menu`);n&&(this.submenu=new rt(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",o=>{let n=!1;switch(o.code){case N.down:{oe(o.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break}case N.up:{oe(o.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break}case N.tab:{oe(o.currentTarget,"mouseleave");break}case N.enter:case N.space:{n=!0,o.currentTarget.click();break}}n&&o.preventDefault()})}},dt=class{constructor(o,n){this.domNode=o,this.init(n)}init(o){const n=this.domNode.childNodes;Array.from(n).forEach(r=>{r.nodeType===1&&new ct(r,o)})}};const pt=H({name:"ElMenuCollapseTransition",setup(){const e=P("menu");return{listeners:{onBeforeEnter:n=>n.style.opacity="0.2",onEnter(n,r){ee(n,`${e.namespace.value}-opacity-transition`),n.style.opacity="1",r()},onAfterEnter(n){de(n,`${e.namespace.value}-opacity-transition`),n.style.opacity=""},onBeforeLeave(n){n.dataset||(n.dataset={}),Fe(n,e.m("collapse"))?(de(n,e.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),ee(n,e.m("collapse"))):(ee(n,e.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),de(n,e.m("collapse"))),n.style.width=`${n.scrollWidth}px`,n.style.overflow="hidden"},onLeave(n){ee(n,"horizontal-collapse-transition"),n.style.width=`${n.dataset.scrollWidth}px`}}}}});function mt(e,o,n,r,t,M){return C(),O(Oe,$e({mode:"out-in"},e.listeners),{default:T(()=>[A(e.$slots,"default")]),_:3},16)}var vt=ie(pt,[["render",mt],["__file","menu-collapse-transition.vue"]]);function ze(e,o){const n=h(()=>{let t=e.parent;const M=[o.value];for(;t.type.name!=="ElMenu";)t.props.index&&M.unshift(t.props.index),t=t.parent;return M});return{parentMenu:h(()=>{let t=e.parent;for(;t&&!["ElMenu","ElSubMenu"].includes(t.type.name);)t=t.parent;return t}),indexPath:n}}function ft(e){return h(()=>{const n=e.backgroundColor;return n?new ot(n).shade(20).toString():""})}const He=(e,o)=>{const n=P("menu");return h(()=>n.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":ft(e).value||"","active-color":e.activeTextColor||"",level:`${o}`}))},ht=Me({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:Z},expandOpenIcon:{type:Z},collapseCloseIcon:{type:Z},collapseOpenIcon:{type:Z}}),ve="ElSubMenu";var ke=H({name:ve,props:ht,setup(e,{slots:o,expose:n}){const r=xe(),{indexPath:t,parentMenu:M}=ze(r,h(()=>e.index)),d=P("menu"),g=P("sub-menu"),l=se("rootMenu");l||ue(ve,"can not inject root menu");const i=se(`subMenu:${M.value.uid}`);i||ue(ve,"can not inject sub menu");const v=S({}),b=S({});let I;const p=S(!1),J=S(),L=S(null),E=h(()=>R.value==="horizontal"&&D.value?"bottom-start":"right-start"),j=h(()=>R.value==="horizontal"&&D.value||R.value==="vertical"&&!l.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?w.value?e.expandOpenIcon:e.expandCloseIcon:Ve:e.collapseCloseIcon&&e.collapseOpenIcon?w.value?e.collapseOpenIcon:e.collapseCloseIcon:qe),D=h(()=>i.level===0),K=h(()=>{const u=e.teleported;return u===void 0?D.value:u}),re=h(()=>l.props.collapse?`${d.namespace.value}-zoom-in-left`:`${d.namespace.value}-zoom-in-top`),ce=h(()=>R.value==="horizontal"&&D.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),w=h(()=>l.openedMenus.includes(e.index)),F=h(()=>{let u=!1;return Object.values(v.value).forEach(m=>{m.active&&(u=!0)}),Object.values(b.value).forEach(m=>{m.active&&(u=!0)}),u}),R=h(()=>l.props.mode),V=ye({index:e.index,indexPath:t,active:F}),Q=He(l.props,i.level+1),X=h(()=>{var u;return(u=e.popperOffset)!=null?u:l.props.popperOffset}),q=h(()=>{var u;return(u=e.popperClass)!=null?u:l.props.popperClass}),Y=h(()=>{var u;return(u=e.showTimeout)!=null?u:l.props.showTimeout}),a=h(()=>{var u;return(u=e.hideTimeout)!=null?u:l.props.hideTimeout}),s=()=>{var u,m,x;return(x=(m=(u=L.value)==null?void 0:u.popperRef)==null?void 0:m.popperInstanceRef)==null?void 0:x.destroy()},c=u=>{u||s()},y=()=>{l.props.menuTrigger==="hover"&&l.props.mode==="horizontal"||l.props.collapse&&l.props.mode==="vertical"||e.disabled||l.handleSubMenuClick({index:e.index,indexPath:t.value,active:F.value})},f=(u,m=Y.value)=>{var x;if(u.type!=="focus"){if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||e.disabled){i.mouseInChild.value=!0;return}i.mouseInChild.value=!0,I==null||I(),{stop:I}=Te(()=>{l.openMenu(e.index,t.value)},m),K.value&&((x=M.value.vnode.el)==null||x.dispatchEvent(new MouseEvent("mouseenter")))}},$=(u=!1)=>{var m;if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"){i.mouseInChild.value=!1;return}I==null||I(),i.mouseInChild.value=!1,{stop:I}=Te(()=>!p.value&&l.closeMenu(e.index,t.value),a.value),K.value&&u&&((m=i.handleMouseleave)==null||m.call(i,!0))};te(()=>l.props.collapse,u=>c(!!u));{const u=x=>{b.value[x.index]=x},m=x=>{delete b.value[x.index]};ge(`subMenu:${r.uid}`,{addSubMenu:u,removeSubMenu:m,handleMouseleave:$,mouseInChild:p,level:i.level+1})}return n({opened:w}),Ce(()=>{l.addSubMenu(V),i.addSubMenu(V)}),Ne(()=>{i.removeSubMenu(V),l.removeSubMenu(V)}),()=>{var u;const m=[(u=o.title)==null?void 0:u.call(o),_(Ie,{class:g.e("icon-arrow"),style:{transform:w.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>G(j.value)?_(r.appContext.components[j.value]):_(j.value)})],x=l.isMenuPopup?_(Ae,{ref:L,visible:w.value,effect:"light",pure:!0,offset:X.value,showArrow:!1,persistent:!0,popperClass:q.value,placement:E.value,teleported:K.value,fallbackPlacements:ce.value,transition:re.value,gpuAcceleration:!1},{content:()=>{var k;return _("div",{class:[d.m(R.value),d.m("popup-container"),q.value],onMouseenter:B=>f(B,100),onMouseleave:()=>$(!0),onFocus:B=>f(B,100)},[_("ul",{class:[d.b(),d.m("popup"),d.m(`popup-${E.value}`)],style:Q.value},[(k=o.default)==null?void 0:k.call(o)])])},default:()=>_("div",{class:g.e("title"),onClick:y},m)}):_(W,{},[_("div",{class:g.e("title"),ref:J,onClick:y},m),_(it,{},{default:()=>{var k;return Pe(_("ul",{role:"menu",class:[d.b(),d.m("inline")],style:Q.value},[(k=o.default)==null?void 0:k.call(o)]),[[Ge,w.value]])}})]);return _("li",{class:[g.b(),g.is("active",F.value),g.is("opened",w.value),g.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:w.value,onMouseenter:f,onMouseleave:()=>$(),onFocus:f},[x])}}});const gt=Me({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:be(Array),default:()=>Je([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:Z,default:()=>Ke},popperEffect:{type:String,values:["dark","light"],default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),fe=e=>Array.isArray(e)&&e.every(o=>G(o)),bt={close:(e,o)=>G(e)&&fe(o),open:(e,o)=>G(e)&&fe(o),select:(e,o,n,r)=>G(e)&&fe(o)&&Qe(n)&&(r===void 0||r instanceof Promise)};var Mt=H({name:"ElMenu",props:gt,emits:bt,setup(e,{emit:o,slots:n,expose:r}){const t=xe(),M=t.appContext.config.globalProperties.$router,d=S(),g=P("menu"),l=P("sub-menu"),i=S(-1),v=S(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),b=S(e.defaultActive),I=S({}),p=S({}),J=h(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),L=()=>{const a=b.value&&I.value[b.value];if(!a||e.mode==="horizontal"||e.collapse)return;a.indexPath.forEach(c=>{const y=p.value[c];y&&E(c,y.indexPath)})},E=(a,s)=>{v.value.includes(a)||(e.uniqueOpened&&(v.value=v.value.filter(c=>s.includes(c))),v.value.push(a),o("open",a,s))},j=a=>{const s=v.value.indexOf(a);s!==-1&&v.value.splice(s,1)},D=(a,s)=>{j(a),o("close",a,s)},K=({index:a,indexPath:s})=>{v.value.includes(a)?D(a,s):E(a,s)},re=a=>{(e.mode==="horizontal"||e.collapse)&&(v.value=[]);const{index:s,indexPath:c}=a;if(!(Se(s)||Se(c)))if(e.router&&M){const y=a.route||s,f=M.push(y).then($=>($||(b.value=s),$));o("select",s,c,{index:s,indexPath:c,route:y},f)}else b.value=s,o("select",s,c,{index:s,indexPath:c})},ce=a=>{const s=I.value,c=s[a]||b.value&&s[b.value]||s[e.defaultActive];c?b.value=c.index:b.value=a},w=a=>{const s=getComputedStyle(a),c=Number.parseInt(s.marginLeft,10),y=Number.parseInt(s.marginRight,10);return a.offsetWidth+c+y||0},F=()=>{var a,s;if(!d.value)return-1;const c=Array.from((s=(a=d.value)==null?void 0:a.childNodes)!=null?s:[]).filter(B=>B.nodeName!=="#comment"&&(B.nodeName!=="#text"||B.nodeValue)),y=64,f=getComputedStyle(d.value),$=Number.parseInt(f.paddingLeft,10),u=Number.parseInt(f.paddingRight,10),m=d.value.clientWidth-$-u;let x=0,k=0;return c.forEach((B,Re)=>{x+=w(B),x<=m-y&&(k=Re+1)}),k===c.length?-1:k},R=a=>p.value[a].indexPath,V=(a,s=33.34)=>{let c;return()=>{c&&clearTimeout(c),c=setTimeout(()=>{a()},s)}};let Q=!0;const X=()=>{if(i.value===F())return;const a=()=>{i.value=-1,Xe(()=>{i.value=F()})};Q?a():V(a)(),Q=!1};te(()=>e.defaultActive,a=>{I.value[a]||(b.value=""),ce(a)}),te(()=>e.collapse,a=>{a&&(v.value=[])}),te(I.value,L);let q;Ue(()=>{e.mode==="horizontal"&&e.ellipsis?q=Ze(d,X).stop:q==null||q()});const Y=S(!1);{const a=f=>{p.value[f.index]=f},s=f=>{delete p.value[f.index]};ge("rootMenu",ye({props:e,openedMenus:v,items:I,subMenus:p,activeIndex:b,isMenuPopup:J,addMenuItem:f=>{I.value[f.index]=f},removeMenuItem:f=>{delete I.value[f.index]},addSubMenu:a,removeSubMenu:s,openMenu:E,closeMenu:D,handleMenuItemClick:re,handleSubMenuClick:K})),ge(`subMenu:${t.uid}`,{addSubMenu:a,removeSubMenu:s,mouseInChild:Y,level:0})}return Ce(()=>{e.mode==="horizontal"&&new dt(t.vnode.el,g.namespace.value)}),r({open:s=>{const{indexPath:c}=p.value[s];c.forEach(y=>E(y,c))},close:j,handleResize:X}),()=>{var a,s;let c=(s=(a=n.default)==null?void 0:a.call(n))!=null?s:[];const y=[];if(e.mode==="horizontal"&&d.value){const m=at(c),x=i.value===-1?m:m.slice(0,i.value),k=i.value===-1?[]:m.slice(i.value);k!=null&&k.length&&e.ellipsis&&(c=x,y.push(_(ke,{index:"sub-menu-more",class:l.e("hide-arrow"),popperOffset:e.popperOffset},{title:()=>_(Ie,{class:l.e("icon-more")},{default:()=>_(e.ellipsisIcon)}),default:()=>k})))}const f=He(e,0),$=e.closeOnClickOutside?[[st,()=>{v.value.length&&(Y.value||(v.value.forEach(m=>o("close",m,R(m))),v.value=[]))}]]:[],u=Pe(_("ul",{key:String(e.collapse),role:"menubar",ref:d,style:f.value,class:{[g.b()]:!0,[g.m(e.mode)]:!0,[g.m("collapse")]:e.collapse}},[...c,...y]),$);return e.collapseTransition&&e.mode==="vertical"?_(vt,()=>u):u}}});const yt=Me({index:{type:be([String,null]),default:null},route:{type:be([String,Object])},disabled:Boolean}),Ct={click:e=>G(e.index)&&Array.isArray(e.indexPath)},he="ElMenuItem",It=H({name:he,components:{ElTooltip:Ae},props:yt,emits:Ct,setup(e,{emit:o}){const n=xe(),r=se("rootMenu"),t=P("menu"),M=P("menu-item");r||ue(he,"can not inject root menu");const{parentMenu:d,indexPath:g}=ze(n,Ye(e,"index")),l=se(`subMenu:${d.value.uid}`);l||ue(he,"can not inject sub menu");const i=h(()=>e.index===r.activeIndex),v=ye({index:e.index,indexPath:g,active:i}),b=()=>{e.disabled||(r.handleMenuItemClick({index:e.index,indexPath:g.value,route:e.route}),o("click",v))};return Ce(()=>{l.addSubMenu(v),r.addMenuItem(v)}),Ne(()=>{l.removeSubMenu(v),r.removeMenuItem(v)}),{parentMenu:d,rootMenu:r,active:i,nsMenu:t,nsMenuItem:M,handleClick:b}}});function xt(e,o,n,r,t,M){const d=Be("el-tooltip");return C(),z("li",{class:le([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:o[0]||(o[0]=(...g)=>e.handleClick&&e.handleClick(...g))},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(C(),O(d,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:T(()=>[A(e.$slots,"title")]),default:T(()=>[U("div",{class:le(e.nsMenu.be("tooltip","trigger"))},[A(e.$slots,"default")],2)]),_:3},8,["effect"])):(C(),z(W,{key:1},[A(e.$slots,"default"),A(e.$slots,"title")],64))],2)}var Le=ie(It,[["render",xt],["__file","menu-item.vue"]]);const _t={title:String},kt="ElMenuItemGroup",Tt=H({name:kt,props:_t,setup(){return{ns:P("menu-item-group")}}});function St(e,o,n,r,t,M){return C(),z("li",{class:le(e.ns.b())},[U("div",{class:le(e.ns.e("title"))},[e.$slots.title?A(e.$slots,"title",{key:1}):(C(),z(W,{key:0},[et(ne(e.title),1)],64))],2),U("ul",null,[A(e.$slots,"default")])],2)}var De=ie(Tt,[["render",St],["__file","menu-item-group.vue"]]);const Rt=tt(Mt,{MenuItem:Le,MenuItemGroup:De,SubMenu:ke}),Et=_e(Le);_e(De);const wt=_e(ke),Wt=H({__name:"aside-menu-item",props:{menuList:{}},setup(e){const o=nt();function n(r){o.push(r.path)}return(r,t)=>{const M=Ie,d=Et,g=Be("aside-menu-item",!0),l=wt;return C(!0),z(W,null,Ee(r.menuList,(i,v)=>{var b,I;return C(),z(W,{key:v},[((b=i==null?void 0:i.children)==null?void 0:b.length)<=0?(C(),O(d,{key:0,index:i.path,onClick:p=>n(i)},{title:T(()=>{var p;return[U("span",null,ne((p=i.meta)==null?void 0:p.title),1)]}),default:T(()=>[pe(M,null,{default:T(()=>[(C(),O(me(i.icon)))]),_:2},1024)]),_:2},1032,["index","onClick"])):we("",!0),((I=i==null?void 0:i.children)==null?void 0:I.length)>=1?(C(),O(l,{key:1,index:i.path},{title:T(()=>{var p;return[pe(M,null,{default:T(()=>[(C(),O(me(i.icon)))]),_:2},1024),U("span",null,ne((p=i.meta)==null?void 0:p.title),1)]}),default:T(()=>[(C(!0),z(W,null,Ee(i.children,(p,J)=>{var L;return C(),z(W,{key:J},[((L=p==null?void 0:p.children)==null?void 0:L.length)<=0?(C(),O(d,{key:0,index:p.path,onClick:E=>n(p)},{title:T(()=>{var E;return[U("span",null,ne((E=p.meta)==null?void 0:E.title),1)]}),default:T(()=>[pe(M,null,{default:T(()=>[(C(),O(me(p.icon)))]),_:2},1024)]),_:2},1032,["index","onClick"])):(C(),O(g,{key:1,"menu-list":[p]},null,8,["menu-list"]))],64)}),128))]),_:2},1032,["index"])):we("",!0)],64)}),128)}}});export{Rt as E,Wt as _};
